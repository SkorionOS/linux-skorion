From b87a18ed596ca60775a6e2a079ef727757fc6e34 Mon Sep 17 00:00:00 2001
From: honjow <honjow311@gmail.com>
Date: Wed, 26 Mar 2025 11:54:21 +0800
Subject: [PATCH] platform/x86:int3472: Fix GPIO polarity handling in sensor
 reset function

---
 drivers/platform/x86/intel/int3472/discrete.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/platform/x86/intel/int3472/discrete.c b/drivers/platform/x86/intel/int3472/discrete.c
index 6ebc6ebaf518..68d0f07dda0c 100644
--- a/drivers/platform/x86/intel/int3472/discrete.c
+++ b/drivers/platform/x86/intel/int3472/discrete.c
@@ -99,7 +99,7 @@ static int skl_int3472_map_gpio_to_sensor(struct int3472_discrete_device *int347
 	 */
 	if (!strcmp(func, "reset") && !acpi_match_device_ids(int3472->sensor, ov7251_ids)) {
 		func = "enable";
-		polarity ^= GPIO_ACTIVE_LOW;
+		gpio_flags ^= GPIO_ACTIVE_LOW;
 	}
 
 	ret = skl_int3472_fill_gpiod_lookup(&int3472->gpios.table[int3472->n_sensor_gpios],
-- 
2.39.1

